[
  {
    "essential": true,
    "image": "mongo:3.5",
    "memoryReservation": 1024,
    "name": "mongodb",
    "command": ["mongod", "--auth", "--bind_ip", "0.0.0.0"],
    "portMappings": [
      {
        "containerPort": 27017,
        "hostPort": 27017
      }
    ],
    "dnsServers": [
      "${DNS_SERVER_1}",
      "${DNS_SERVER_2}",
      "${DNS_SERVER_3}"
    ],
    "environment": [
      {
        "name": "SERVICE_27017_NAME",
        "value": "MongoDB"
      },
      {
        "name": "SERVICE_27017_TAGS",
        "value": "${TAG_REGION},${TAG_VPC_ID}"
      },
      {
        "name": "SERVICE_27017_CHECK_TCP",
        "value": "true"
      },
      {
        "name": "SERVICE_27017_CHECK_INTERVAL",
        "value": "5s"
      }
    ],
    "mountPoints": [
      {
        "sourceVolume": "storage",
        "containerPath": "/data/db"
      }
    ],
    "logConfiguration": {
      "logDriver": "awslogs",
      "options": {
        "awslogs-group": "infrastructure",
        "awslogs-region": "us-west-2",
        "awslogs-stream-prefix": "mongodb"
      }
    }
  }
]