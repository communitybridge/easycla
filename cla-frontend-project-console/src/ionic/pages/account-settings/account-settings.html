<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Account Settings</ion-title>
  </ion-navbar>
  <ion-row margin-left margin-top margin-bottom>
    <ion-col col-12>
      <button ion-button (click)="submitEditUser()" color="secondary" [disabled]="currentlySubmitting">
        SAVE AND FINISH
      </button>
      <button ion-button (click)="cancelEditUser()" color="gray">CANCEL</button>
    </ion-col>
  </ion-row>
</ion-header>

<ion-content padding>
  <loading-spinner [loading]="loading.user"></loading-spinner>
  <ion-grid [loading-display]="loading.user">
    <form [formGroup]="form" [ngClass]="{'submit-attempt': submitAttempt}">
      <ion-row *ngIf="submitAttempt && !form.valid">
        <ion-col col-12>
          <p class="form-message">Please check the fields below for errors.</p>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-6>
          <ion-item>
            <ion-label stacked>User Id</ion-label>
            <ion-input type="text" value="{{ user.userId }}" disabled></ion-input>
          </ion-item>
        </ion-col>
        <ion-col col-6>
          <ion-item>
            <ion-label stacked>Email</ion-label>
            <ion-input type="text" [value]="user.email" disabled></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-12>
          <ion-item>
            <ion-label stacked>Roles</ion-label>
            <ion-input type="text" value="{{ user.roles }}" disabled></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-12>
          <ion-item>
            <ion-label stacked>Calendar Link</ion-label>
            <ion-input type="text" formControlName="calendar"></ion-input>
          </ion-item>
          <ion-item class="description" no-lines>
            <p>
              Use the
              <a href="https://calendar.google.com/calendar/embedhelper" target="_blank">Calendar Embed Helper</a> to
              generate your embed code.
            </p>
          </ion-item>
          <ion-item *ngIf="!form.controls.calendar.valid && (form.controls.calendar.touched || submitAttempt)" no-lines>
            <p>* You must use a Google Calendar embed or link with 'https://calendar.google.com/calendar/embed'.</p>
          </ion-item>
        </ion-col>
      </ion-row>
    </form>
  </ion-grid>
</ion-content>

<ion-footer>
  <footer class="text-white footer-section">
    <ion-grid>
      <ion-row>
        <ion-col>
          <picture class="d-inline-block">
            <img src="./assets/logo/logo_white.svg" alt="" title="" />
          </picture>
        </ion-col>
      </ion-row>
      <hr />
      <ion-row>
        <ion-col>
          <small>&copy;2018 The Linux Foundation</small>
        </ion-col>
        <ion-col text-sm-right>
          <small>
            <a href="javascript:void;">Terms of Service</a>&nbsp;|&nbsp;<a href="javascript:void;">Privacy Policy</a>
          </small>
        </ion-col>
      </ion-row>
    </ion-grid>
  </footer>
</ion-footer>
