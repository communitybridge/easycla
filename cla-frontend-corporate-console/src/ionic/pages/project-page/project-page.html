<ion-header class="cla-header">
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Project Signatures</ion-title>
    <img class="navbar-logo" src="/assets/logo/cla-icon-logo.png" alt="">
  </ion-navbar>
</ion-header>

<ion-content padding headerspacing>

  <loading-spinner [loading]="loading.signatures"></loading-spinner>

  <header>
    <ion-grid>
      <ion-row>
        <ion-col col-12 col-md-4>
          <h3>Manager</h3>
          <div *ngIf="manager">{{ manager.user_name }}</div>
        </ion-col>
        <ion-col col-12 col-md-4>
          <h3>
            Domain Whitelist
            <ion-icon class="clickable" name="md-create" item-right (click)="openWhitelistDomainModal()"></ion-icon>
          </h3>
          <div class="list-container">
            <ion-list>
              <ion-item *ngFor="let pattern of company.company_whitelist_patterns">
                {{ pattern }}
              </ion-item>
            </ion-list>
          </div>
        </ion-col>
        <ion-col col-12 col-md-4>
          <h3>
            Email Whitelist
            <ion-icon class="clickable" name="md-create" item-right (click)="openWhitelistEmailModal()"></ion-icon>
          </h3>
          <div class="list-container">
            <ion-list>
              <ion-item *ngFor="let whitelist of company.company_whitelist">
                {{ whitelist }}
              </ion-item>
            </ion-list>
          </div>
        </ion-col>
      </ion-row>
    </ion-grid>
  </header>

  <ion-grid [loading-display]="loading.signatures">
    <ion-row justify-content-center>
      <ion-col col-6>
        <div class="table-responsive-vertical">
          <table class="table table-hover">
            <thead>
              <tr>
                <th class="clickable">
                  Name
                </th>
                <th class="clickable">
                  Agreement
                </th>
                <th class="clickable" (click)="sortMembers('date')">
                  Date
                  <sorting-display [sorting]='sort.date.sort'></sorting-display>
                </th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let signature of signatures">
                <td data-title="Name">
                  <span *ngIf="users[signature.signature_reference_id]">{{ users[signature.signature_reference_id].user_name }}</span>
                </td>
                <td data-title="Agreement">
                  v{{ signature.signature_document_major_version}}.{{signature.signature_document_minor_version }}
                </td>
                <td data-title="Date">
                  {{ signature.date_modified | date:'medium' }}
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>

<ion-footer>
    <footer class="text-white footer-section">
        <ion-grid>
            <ion-row>
              <ion-col>
                  <picture class="d-inline-block">
                      <img src="./assets/logo/logo_white.svg" alt="" title="">
                  </picture>
              </ion-col>
            </ion-row>
            <hr />
            <ion-row>
                <ion-col>
                    <small>&copy;2018 The Linux Foundation</small>
                </ion-col>
                <ion-col text-sm-right>
                    <small>
                        <a href="javascript:void;">Terms of Service</a>&nbsp;|&nbsp;<a href="javascript:void;">Privacy Policy</a>
                    </small>
                </ion-col>
            </ion-row>
        </ion-grid>
    </footer>
</ion-footer>
