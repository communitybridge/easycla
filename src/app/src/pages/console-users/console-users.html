<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Console Users</ion-title>
  </ion-navbar>
</ion-header>
<ion-content padding overflow-scroll="true">
  <ion-grid>
    <ion-row>
      <ion-col col-12>
        <loading-spinner [loading]="loading.users"></loading-spinner>
          <div class="table-responsive-vertical" [loading-display]="loading.users">
            <table id="table" class="table table-hover">
              <thead>
                <tr>
                  <th>Name</th>
                  <th>Email</th>
                  <th>Roles</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let user of users" (click)="userSelected(user)">
                  <td data-title="Name">{{ user.userId }}</td>
                  <td data-title="Email">{{ user.email }}</td>
                  <td data-title="Roles">
                    <span *ngFor="let role of user.roles; let last = last;">
                      <ng-container *ngIf="!last; else lastRole;">
                        {{ userRoles[role] }},
                      </ng-container>
                      <ng-template #lastRole>
                        {{ userRoles[role] }}
                      </ng-template>
                    </span>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
      </ion-col>
    </ion-row>
  </ion-grid>
  <ion-fab right bottom>
    <button ion-fab mini><ion-icon name="add"></ion-icon></button>
    <ion-fab-list side="left">
      <button ion-fab (click)="addNewUser()" title="Add Console User"><ion-icon name="person-add"></ion-icon></button>
    </ion-fab-list>
  </ion-fab>
</ion-content>
